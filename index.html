<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Expense Tracker</title>
  <link rel="stylesheet" href="styles.css">
  <!-- Chart.js for analytics -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>

  <div class="container">
    <!-- Header: Total Spending + Currency Converter -->
    <header>
        <div class = "header-top">
            <button id="themeToggle"  >ðŸŒ™ Dark Mode</button>
        </div>
        <h1>Expense Tracker</h1>
      <div class="total-spending">
        <span>Total: </span>
        <span id="totalAmount">0</span>
        <select id="baseCurrency">
            <option value="KES">KES</option>
            <option value="EUR">EUR</option>
            <option value="USD">USD</option>
        </select>
      </div>
    </header>

    <br><hr><br>

    <!-- Here is where the user sets their budget. -->
    <div class="budget-section">
      <input type="number" id="monthlyBudget" placeholder="Monthly Budget">
      <button onclick="setBudget()">Set Budget</button>
      <div id="budgetAlert"></div>
    </div>

  <br><hr>

    <!-- Expense Input Form -->
     <p>Enter a new expense below:</p>

    <form id="expenseForm">
      <!-- Amount -->
      <input type="number" id="amount" placeholder="Amount" step="0.01" required>

      <!-- Currency -->
      <select id="currency">
        <option value="KES">KES</option>
        <option value="EUR">EUR</option>
        <option value="USD">USD</option>
      </select>

      <!-- Recurrence Type -->
      <select id="recurrence">
        <option value="once">One-time</option>
        <option value="daily">Daily</option>
        <option value="weekly">Weekly</option>
        <option value="monthly">Monthly</option>
      </select>

      <!-- Description of expense item -->
      <input type="text" id="description" placeholder="Description">

      <!-- Expense Category -->
      <select id="category">
        <option value="Bills">Bills</option>
        <option value="Food">Food</option>
        <option value="Transport">Transport</option>
        <option value="Housing">Housing</option>
        <option value="Entertainment">Entertainment</option>
        <option value="Other">Other</option>
      </select>

      <!-- Date -->
      <input type="date" id="date" required>

      <!-- "Add expense" Button -->
      <button type="submit">Add Expense</button>
    </form>

    <br><hr><br>

    <!-- Expense List -->
    <div class="expense-list">
      <h2>Expenses</h2>
      <table id="expenseTable">
        <thead>
          <tr>
            <th>Date</th>
            <th>Category</th>
            <th>Description</th>
            <th>Amount</th>
            <th>Currency</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody id="expenseBody"></tbody>
      </table>
    </div>

    <div class="data-tools">
      <button onclick="exportData()">Export as CSV</button>
      <input type="file" id="importFile" accept=".csv">
      <button onclick="importData()">Import CSV</button>
    </div>
    
    <br><hr><br>

    <!-- Charts -->
    <div class="charts">
      <canvas id="categoryChart"></canvas>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>